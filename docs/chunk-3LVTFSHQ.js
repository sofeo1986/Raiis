import{A as L,D as E,F as N,g as P,h as b,j as O,k as v,n as y,p as d,r as S,s as F,w as k,z as I}from"./chunk-W73J47EM.js";import"./chunk-SZXJF6TW.js";import{Ab as C,Ib as a,Jb as _,Pa as s,Pb as h,Qa as m,da as f,fb as c,hb as l,pb as e,qb as i,rb as g,tc as M,xc as w,yb as x}from"./chunk-PB4YG3C4.js";import{i as u}from"./chunk-P2VZOJAX.js";function T(o,p){o&1&&(e(0,"i",16),a(1,"Email is required and Must Be Valid"),i())}function j(o,p){o&1&&(e(0,"i",16),a(1,"Password Must Be at Least 6 Characters"),i())}function z(o,p){if(o&1&&(e(0,"div",17),a(1),i()),o&2){let t=C();s(),_(t.errorMessage)}}var W=(()=>{class o{constructor(t,r,n){this.formBuilder=t,this.auth=r,this.router=n,this.errorMessage="",this.loading=!1,this.error=null,this.loginForm=this.formBuilder.group({email:t.control("",[d.required,d.email]),password:t.control("",[d.required,d.minLength(6)])})}onSignIn(){return u(this,null,function*(){try{let t=yield this.auth.signIn(this.loginForm.value.email,this.loginForm.value.password),r=t.user,n=t.session;console.log("User signed in:",r),console.log("JWT Token:",n?.access_token),localStorage.setItem("supabase.auth.token",n?.access_token||""),this.router.navigate(["admin/dashbord"])}catch(t){this.error=t.message,this.errorMessage="Invalid email or password. Please try again."}})}static{this.\u0275fac=function(r){return new(r||o)(m(E),m(v),m(P))}}static{this.\u0275cmp=f({type:o,selectors:[["app-login"]],standalone:!0,features:[h],decls:22,vars:5,consts:[[1,"login-container"],[1,"login-box"],[1,"logo"],["src","assets/images/icone2.png","alt","Site Logo"],[1,"login-form",3,"ngSubmit","formGroup"],["for","email"],["type","text","name","email","id","email","formControlName","email"],["style","color:tomato",4,"ngIf"],["for","password"],["type","password","id","password","name","password","formControlName","password"],[1,"form-options"],["href","#",1,"forgot-password"],["style","color:tomato","class","error-message",4,"ngIf"],["type","submit","value","Log In",1,"login-button"],[1,"signup-link"],[3,"routerLink"],[2,"color","tomato"],[1,"error-message",2,"color","tomato"]],template:function(r,n){r&1&&(e(0,"body")(1,"div",0)(2,"div",1)(3,"div",2),g(4,"img",3),i(),e(5,"form",4),x("ngSubmit",function(){return n.onSignIn()}),e(6,"label",5),a(7," Email Address"),i(),g(8,"input",6),c(9,T,2,0,"i",7),e(10,"label",8),a(11,"Password"),i(),g(12,"input",9),c(13,j,2,0,"i",7),e(14,"div",10)(15,"a",11),a(16,"Forgot your password?"),i()(),c(17,z,2,1,"div",12),g(18,"input",13),i(),e(19,"div",14)(20,"a",15),a(21,"Create a new account"),i()()()()()),r&2&&(s(5),l("formGroup",n.loginForm),s(4),l("ngIf",n.loginForm.controls.email.invalid&&(n.loginForm.controls.email.dirty||n.loginForm.controls.email.touched)),s(4),l("ngIf",n.loginForm.controls.password.invalid&&(n.loginForm.controls.password.dirty||n.loginForm.controls.password.touched)),s(4),l("ngIf",n.errorMessage),s(3),l("routerLink","/signup"))},dependencies:[N,k,y,S,F,I,L,w,M,O,b],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#888686;display:flex;justify-content:center;align-items:center;height:100vh;padding:10px;overflow-x:hidden}.login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;margin-top:1%;padding:10px}.login-box[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:8px;box-shadow:0 4px 12px #0000001a;max-width:100%;width:100%;text-align:center;overflow:hidden;box-sizing:border-box;margin:0 auto}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:84px;margin-bottom:20px;max-width:100%}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.login-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-align:left;margin-bottom:5px;font-weight:700}.login-form[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .login-form[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{padding:10px;margin-bottom:15px;border:1px solid #ddd;border-radius:4px;width:100%;box-sizing:border-box;max-width:100%}.form-options[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.forgot-password[_ngcontent-%COMP%]{color:#0073aa;text-decoration:none}.forgot-password[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-button[_ngcontent-%COMP%]{background-color:#0073aa;color:#fff;padding:10px;border:none;border-radius:4px;cursor:pointer;font-weight:700}.login-button[_ngcontent-%COMP%]:hover{background-color:#005177}.signup-link[_ngcontent-%COMP%]{margin-top:20px}.signup-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0073aa;text-decoration:none}.signup-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media screen and (max-width: 600px){body[_ngcontent-%COMP%]{padding:10px}.login-box[_ngcontent-%COMP%]{padding:15px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70px}.login-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px}.login-form[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .login-form[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{padding:8px}.form-options[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.forgot-password[_ngcontent-%COMP%]{margin-top:10px}.login-button[_ngcontent-%COMP%]{padding:8px}.signup-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:14px}}@media screen and (max-width: 1024px){.login-box[_ngcontent-%COMP%]{width:90%}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70px}}@media screen and (min-width: 1200px){.login-box[_ngcontent-%COMP%]{width:400px}}@media screen and (min-width: 800px) and (max-width: 1400px){.login-box[_ngcontent-%COMP%]{width:500px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:90px}}"]})}}return o})();export{W as LoginComponent};
